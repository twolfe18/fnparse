#!/bin/bash

CP=`find temp -iname '*.jar' -type f | tr '\n' ':'`
for N in 500 1500; do
  for P in 10 20 30; do
    for DISALLOW_ARG_WITHOUT_CONSTITUENT in "true" "false"; do
      LOG="logging/ab-test/${N}_${P}_${DISALLOW_ARG_WITHOUT_CONSTITUENT}.log"
	  echo "writing to $LOG"
      java -cp ${CP} -Xmx4G -XX:+UseSerialGC -ea edu.jhu.hlt.fnparse.experiment.grid.Runner 'fs-test-1' 'disallowArgWithoutConstituent' ${DISALLOW_ARG_WITHOUT_CONSTITUENT} 'batchSize.RoleSpanLabelingStage' '1' 'MaxTrainSize' $N 'randomSeed' '9001' 'features' 'RoleSpanPruningStage-latent*framePrune*1+RoleSpanPruningStage-latent*framePrune*span1LeftWord+RoleSpanPruningStage-latent*framePrune*span1FirstWord+RoleSpanPruningStage-latent*framePrune*span1LastWord+RoleSpanPruningStage-latent*framePrune*span1RightWord+RoleSpanPruningStage-latent*framePrune*span1Width/1+RoleSpanPruningStage-latent*framePrune*span1Width/2+RoleSpanPruningStage-latent*framePrune*span1Width/3+RoleSpanPruningStage-latent*framePrune*span1Width/4+RoleSpanPruningStage-latent*framePrune*span1Width/5+RoleSpanPruningStage-latent*framePrune*span1LastPos*span1Width/3+RoleSpanPruningStage-latent*framePrune*Dist(Len5,Span1.Last,Span2.First)+RoleSpanPruningStage-latent*span1IsConstituent*1+RoleSpanPruningStage-latent*span1IsConstituent*frameRoleArg+RoleSpanPruningStage-latent*span1IsConstituent*Dist(Direction,Head1,Head2)*frame+RoleSpanPruningStage-latent*span1IsConstituent*frame*head1Pos+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1Width/3+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1Width/4+RoleSpanPruningStage-latent*span1IsConstituent*span1LastPos*span1Width/3+RoleSpanPruningStage-latent*span1IsConstituent*span1LastPos*span1Width/4+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1LeftPos*span1RightPos+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1RightPos*span1Width/2+RoleSpanPruningStage-latent*span1IsConstituent*span1LastPos*span1LeftPos*span1RightPos*span1Width/2+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1LeftPos*span1RightPos*span1Width/2+RoleSpanPruningStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1LeftPos*span1Width/2+RoleSpanLabelingStage-latent*frameRoleArg*1+RoleSpanLabelingStage-latent*frameRoleArg*head1Word+RoleSpanLabelingStage-latent*frameRoleArg*span1LeftPos+RoleSpanLabelingStage-latent*frameRoleArg*span1FirstPos+RoleSpanLabelingStage-latent*frameRoleArg*span1LastPos+RoleSpanLabelingStage-latent*frameRoleArg*span1RightPos+RoleSpanLabelingStage-latent*frameRoleArg*span1Width/1+RoleSpanLabelingStage-latent*frameRoleArg*span1Width/2+RoleSpanLabelingStage-latent*frameRoleArg*span1Width/3+RoleSpanLabelingStage-latent*frameRoleArg*span1Width/4+RoleSpanLabelingStage-latent*frameRoleArg*span1Width/5+RoleSpanLabelingStage-latent*frameRoleArg*span1LastPos*span1Width/3+RoleSpanLabelingStage-latent*frameRoleArg*Word-1-grams-between-Span1.First-and-Span1.Last+RoleSpanLabelingStage-latent*frameRoleArg*Word-1-grams-between-Span1.Last-and-Span2.First+RoleSpanLabelingStage-latent*frameRoleArg*head1Pos*head2Pos+RoleSpanLabelingStage-latent*frameRoleArg*Dist(Len5,Span1.Last,Span2.First)+RoleSpanLabelingStage-latent*frameRoleArg*head1head2Path-LEMMA-DIRECTION-t+RoleSpanLabelingStage-latent*frameRoleArg*head1head2Path-POS-DEP-t+RoleSpanLabelingStage-latent*frameRoleArg*span1StanfordCategory+RoleSpanLabelingStage-latent*roleArg*span1StanfordCategory+RoleSpanLabelingStage-latent*arg*span1StanfordCategory+RoleSpanLabelingStage-latent*roleArg*CfgFeat-CommonParent-Category+RoleSpanLabelingStage-latent*arg*CfgFeat-CommonParent-Category+RoleSpanLabelingStage-latent*span1IsConstituent*1+RoleSpanLabelingStage-latent*span1IsConstituent*frameRoleArg+RoleSpanLabelingStage-latent*span1IsConstituent*roleArg+RoleSpanLabelingStage-latent*span1IsConstituent*Dist(Direction,Head1,Head2)*frame+RoleSpanLabelingStage-latent*span1IsConstituent*frame*head1Pos+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1Width/3+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1Width/4+RoleSpanLabelingStage-latent*span1IsConstituent*span1LastPos*span1Width/3+RoleSpanLabelingStage-latent*span1IsConstituent*span1LastPos*span1Width/4+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1LeftPos*span1RightPos+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1RightPos*span1Width/2+RoleSpanLabelingStage-latent*span1IsConstituent*span1LastPos*span1LeftPos*span1RightPos*span1Width/2+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1LeftPos*span1RightPos*span1Width/2+RoleSpanLabelingStage-latent*span1IsConstituent*span1FirstPos*span1LastPos*span1LeftPos*span1Width/2' 'syntaxMode' 'latent' 'regularizer.RoleSpanPruningStage' '162754.791419' 'batchSize.RoleSpanPruningStage' '1' 'resultReporter' "file:logging/ab-test/${LOG}.results.txt" 'workingDir' 'experiments/forward-selection/role/omni/wd-fs-test-1' 'evaluationFunction' 'ArgumentMicroF1' 'passes.RoleSpanPruningStage' $P 'regularizer.RoleSpanLabelingStage' '162754.791419' 'KpTrainDev' '1 0.300000' 'parserMode' 'span' 'passes.RoleSpanLabelingStage' $P 2>&1 >${LOG} &
    done
  done
done

